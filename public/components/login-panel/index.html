<link rel="import" href="../../vendor/polymer/polymer.html">
<link rel="import" href="../../vendor/input-ripple/input-ripple.html">
<link rel="import" href="../../vendor/urban-icons/urban-icons.html">
<link rel="import" href="../../vendor/urban-login/urban-login.html">
<link rel="import" href="../../vendor/urban-notification/urban-notification.html">
<link rel="import" href="../../vendor/core-ajax/core-ajax.html">

<polymer-element
    name="login-panel"
    attributes="projectName"

    on-keypress="{{onKeypress}}">

    <template>
        <link rel="stylesheet" href="./styles.css" shim-shadowdom>

        <urban-icons></urban-icons>
        <div class="box">
            <h1>{{projectName}}</h1>

            <input-ripple id="user" label="username" center></input-ripple>
            <input-ripple id="pass" label="password" center password></input-ripple>

            <urban-notification id="notification">
                <div class="wrap">
                    <core-icon id="icon" icon="urban:attention"></core-icon><span>This is a notification</span>
                </div>
            </urban-notification>

            <urban-login id="login" label="Login" loadState="true">
                <core-icon icon="urban:loading"></icon>
            </urban-login>

            <core-ajax
                id="xhr"
                handleAs="json"
                method="POST"
                response="{{res}}"
                on-core-response="{{onAuthSuccess}}"
                on-core-error="{{onAuthFailure}}"></core-ajax>
        </div>
    </template>

    <script src="./script.js"></script>
</polymer-element>
